<template>
  <div class="page" data-name="home">
    <!-- Top Navbar -->
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner">
        <div class="left">
          <a class="link icon-only" href="/panel-left/">
            <i class="icon f7-icons if-not-md">menu</i>
            <i class="icon material-icons if-md">more</i>
          </a>
        </div>
        <div class="title sliding">
          De LeenAuto
        </div>
        <div class="right">
          <a class="link">
            <i class="icon material-icons color-teal">car_rental</i>
            <span class="hidden-xs-down">Aanbod</span>
          </a>
          <a class="link ">
            <i class="icon material-symbols-outlined color-orange">swap_driving_apps</i>
            <span class="hidden-xs-down">Uitlenen</span>
          </a>
          <a class="link ">
            <i class="icon material-symbols-outlined color-blue">person_raised_hand</i>
            <span class="hidden-xs-down">Hoe het werkt</span>
          </a>
          <a class="link ">
            <i class="icon material-symbols-outlined color-red">contact_mail</i>
            <span class="hidden-xs-down">Contact</span>
          </a>
          <a class="link icon-only" href="/panel-right/">
            <i class="icon material-icons">more_vert</i>
          </a>
        </div>
        <div class="title-large">
          <div class="title-large-text">De LeenAuto</div>
        </div>
      </div>
    </div>
    <!-- Scrollable page content-->
    <div class="page-content">
      <div class="block block-strong">
        <img src="./static/brand-logo.jpg" height="67" width="267"/>
        <div class="text-align-center">
          <p>
            <h1>Leen een auto</h1>
            Samen maken we de wereld duurzamer.
          </p>  
        </div>
      </div>
      <div class="block-title">Welke auto's zijn er beschikbaar?</div>
      <div class="list block block-outline inset color-yellow" style="background-color: #fcb900;">
        <ul>
          <li class="item-content item-input">
            <div class="item-inner">
              <div class="item-input-wrap">
                <input type="text" placeholder="Locatie" />
                <span class="input-clear-button"></span>
              </div>
            </div>
          </li>
          <li class="item-content item-input">
            <div class="item-inner">
              <div class="item-input-wrap">
                <input type="text" placeholder="Datum" />
                <span class="input-clear-button"></span>
              </div>
            </div>
          </li>
        </ul>
        <div class="block">
          <p class="grid grid-cols-1">
            <a href="#" class="button button-small button-fill color-yellow">Bekijk Beschikbaarheid</a>
          </p>
        </div>
      </div>
      <div class="block stack-content text-align-center">
        <div class="card sub-item">
          <div class="sub-header text-align-center">Goede overdracht</div>
          <div class="card-content card-content-padding">
            <div class="item-media">
              <img src="./static/car-wash.svg" width="44"/>
            </div>
          </div>
        </div>
        <div class="card sub-item">
          <div class="sub-header text-align-center">Eenvoudig lenen</div>
          <div class="card-content card-content-padding">
            <div class="item-media">
              <img src="./static/like.svg" width="44"/>
            </div>
          </div>
        </div>
        <div class="card sub-item">
          <div class="sub-header text-align-center">Groot aanbod</div>
          <div class="card-content card-content-padding">
            <div class="item-media">
              <img src="./static/hand-key.svg" width="44"/>
            </div>
          </div>
        </div>
      </div>
      <div class="block-title">Leen aanbod</div>
      <div class="block">
        <div class="stack-content">
        ${CarList.length > 0 && $h`
        ${CarList.map((item) => $h`
          <div class="card sub-item">
            <div class="card-header">
              ${item.manufacturerName} ${item.model} ${item.year} <br />
            </div>
            <div class="card-content card-content-padding">
              <img width="284" height="160" class="" src="${item.imagePath}" />
            </div>
            <div class="card-footer">
              <span><i class="icon material-symbols-outlined color-yellow">location_on</i> ${item.locationName}</span>
              <span><i class="icon material-symbols-outlined color-yellow">euro</i> vanaf  â‚¬ ${item.price} per dag</span>
            </div>
          </div>
        `)}
        `}
        </div>
      </div>
      <div class="block block-outline inset list">
        <ul>
          <li>
            <a href="/about/" class="item-content item-link">
              <div class="item-inner">
                <div class="item-title"><i class="icon f7-icons color-lime">info_circle</i> About ...</div>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>
<script>
import axios from 'axios';

export default (props, { $, $f7, $on, $update, $onMounted, $f7route, $f7router }) => {
  let CarList = [];

  $onMounted(async () => {
    let result = await axios.get('/static/api/car-list.json');
    CarList = result.data;
    $update();
  });

  return $render;
};
</script>
<style>

.stack-content{
  display: flex;
  flex-wrap: wrap;
}
.sub-item{
  flex-grow: 1;
}
.sub-header{
  font-size: 22px;
  font-weight: bold;
}
@media (max-width: 575px) {
  .hidden-xs-down {
    display: none !important;
  }
}
</style>
