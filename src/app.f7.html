
<template>
  <div id="app" class="${theme == 'theme-dark' && $h`theme-dark`}">

    <!-- Your main view, should have "view-main" class -->
    <div class="view view-main view-init safe-areas" data-url="/"></div>

  </div>
</template>
<script>
import themes from './js/stores/theme.js';
import * as localForage from "localforage";

export default (props, { $f7, $, $update, $onMounted }) => {

  let theme = themes.getters.Name.value;

  $onMounted(() => {
    localForage.getItem('theme').then( (value) => {
      theme = value;
      if (value != 'theme-dark'){ $("#app").removeClass("theme-dark"); }
      themes.dispatch('changeTheme', theme);
    });
  });

  return $render;
}
</script>
